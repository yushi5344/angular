<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>$swtch监听数据变化</title>
    <script src="node_modules/angular/angular.js"></script>
</head>
<body ng-app="hd" ng-controller="ctrl">
    标题：<input type="text" ng-model="news.title">{{error}}
</body>
<script>
    var m=angular.module('hd',[]);
    m.controller('ctrl',['$scope',function ($scope) {
        $scope.news={title:''};
        $scope.$watch('news',function (n,o) {
            //console.log(n);
            $scope.error=n.title.length>3 ?'标题长度不能大于3个': '';
        },true);
    }]);
</script>
</html>