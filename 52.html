<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>tab面板的指令实现 </title>
    <script src="node_modules/angular/angular.js"></script>
    <script src="node_modules/jquery/dist/jquery.js"></script>
</head>
<body ng-app="hd" ng-controller="ctrl">
    <gm-cms data="data"></gm-cms>


    <hr>
</body>
<script>
    var m=angular.module('hd',[]);
    //驼峰命名规则  gmCms 在html中 gm-cms
    m.directive('gmCms',[function () {
        return{
            restrict:'E',
            templateUrl:'view/3.html',
            scope:{
                data:'=data'
            },
            link:function (scope,elem,attr) {
                $(elem).delegate('a','click',function () {
                    $('a').removeClass('active');
                    $(this).addClass('active');
                    var index=$(this).index();
                    $(elem).find('div.lists').hide();
                    $(elem).find('div.lists').eq(index-1).show();
                });
            },
//            controller:['$scope',function ($scope) {
//                $scope.data=[
//                    {id:1,title:'培训',data:[
//                        {id:1,title:'php'},
//                        {id:2,title:'java'}
//                    ]},
//                    {id:2,title:'开源产品',data:[
//                        {id:1,title:'laravel'},
//                        {id:2,title:'yii'}
//                    ]},
//                ];
//            }],
        }
    }]);
    m.controller('ctrl',['$scope',function ($scope) {
        $scope.data=[
            {id:1,title:'培训',data:[
                {id:1,title:'php'},
                {id:2,title:'java'}
            ]},
            {id:2,title:'开源产品',data:[
                {id:1,title:'laravel'},
                {id:2,title:'yii'}
            ]},
        ];
    }]);
</script>
</html>